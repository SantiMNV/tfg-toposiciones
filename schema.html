{foreach name=categoria from=$categorias item=categoria}
{if $smarty.foreach.categoria.iteration%2==0}
<p>Es par</p>
{else}
<p>Es inpar</p>
{/if}
{$smarty.foreach.categoria.iteration}
<a href="{$categoria.url}" title="{$categoria.categoria}">{$categoria.categoria}</a>
{/foreach}

https://www.opobusca.com/
https://www.opositatest.com/
https://oposiciones.es/


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <ul>
    SELECT DATE_ADD(curdate(), INTERVAL 10 DAY)
    <h2>POR HACER</h2>
    <li>si no cabe parte derecha, meterlo debajo izquerda</li>
    <li>parte izquerda mas ancha cuando no hay derecha</li>
  </ul>
  <hr>
  <h1>LISTA BASES DE DATOS NECESARIAS TFG</h1>
  <ul>
    <h2>[0]</h2>
    <li></li>
    <li></li>
    <li></li>
  </ul>
  <ul>
    <h2>Oposicion [1]</h2>
    <li>Estado: Convocada | Abierta | Cerrada</li>
    <li>Categoria [2]</li>
    <li>Enlace oficial</li>
    <li>Comunidad</li>
    <li>Num. Plazas</li>
    <li>Fecha Creacion</li>
    <li>Fecha Inicio</li>
    <li>Fecha fin</li>
  </ul>
  <ul>
    <h2>Categoria Oposicion [2]</h2>
    <li>Nombre</li>
    <li>Material recomendado</li>
  </ul>
  <ul>
    <h2>Temas [3]</h2>
    <li>Categoria [2]</li>
    <li>Nombre</li>
    <li>Contenido</li>
    <li>Fecha Creacion</li>
  </ul>
  <ul>
    <h2>Usuario [4]</h2>
    <span>**Permitir usuarios anonimos</span>
    <li>Nombre</li>
    <li>Contraseña</li>
    <li>Fecha creacion</li>
    <li>Ult conexion</li>
    <li>Listado comunidades noticias</li>
  </ul>
  <ul>
    <h2>Foro[5]</h2>
    <li>Nombre Foro</li>
    <li>Fecha creacion</li>
  </ul>
  <ul>
    <h2>Pregunta [6]</h2>
    <li>Foro</li>
    <li>Usuario [4]</li>
    <li>Titulo</li>
    <li>Contenido</li>
    <li>Estado: Planteada: Atendida</li>
    <li>Fecha</li>
  </ul>
  <ul>
    <h2>Respuesta [7]</h2>
    <li>Pregunta [6]</li>
    <li>Usuario [4]</li>
    <li>Contenido</li>
    <li>Fecha</li>
  </ul>
</body>

</html>




<?php
ini_set('display_errors', 1);
ini_set('display_startup_errors', 1);
error_reporting(E_ALL);

const MAIN_DIRECTORY = "/srv/http/toposiciones";

const SMARTY_LIB = "../view/smarty_lib";
const SMARTY_DIRECTORY = "../view/smarty";
const MODEL_DIRECTORY = "../model";
const MEDIA_DIRECTORY = "view/media";
const CSS_DIRECTORY = "view/css";
const JS_DIRECTORY = "view/js";

echo ("<br>" . SMARTY_LIB . "<br>");
echo (CSS_DIRECTORY . "<br>");

require(SMARTY_LIB . '/libs/Smarty.class.php');
require(MODEL_DIRECTORY . "/include/Page.php");
require(MODEL_DIRECTORY . "/include/pdo_connection.php");

$smarty = new Smarty;

$smarty->template_dir = SMARTY_DIRECTORY . '/main/templates';
$smarty->compile_dir = SMARTY_DIRECTORY . '/main/templates_c/';
$smarty->config_dir = SMARTY_DIRECTORY . '/main/configs/';
$smarty->cache_dir = SMARTY_DIRECTORY . '/main/cache/';
$smarty->addTemplateDir(array(
  'layouts' => SMARTY_DIRECTORY . '/main/templates/layouts',
));

$smarty->assign('MEDIA_DIRECTORY', MEDIA_DIRECTORY);
$smarty->assign('CSS_DIRECTORY', CSS_DIRECTORY);
$smarty->assign('JS_DIRECTORY', JS_DIRECTORY);

require("urlify.php");
$smarty->registerPlugin('function', 'urlify', 'urlify');


$smarty->assign("oppositions", getOppositions()->fetchAll());

$crumbs = explode("/", $_SERVER["REQUEST_URI"]);
$breadCrumbs = array();
foreach ($crumbs as $crumb) {
  array_push($breadCrumbs, ucfirst(str_replace(array(".php", "_"), array("", " "), $crumb) . ' '));
}
array_shift($breadCrumbs);
$smarty->assign('breadCrumbs', $breadCrumbs);


function getOppositions() {
  global $conn;
  $sql = "SELECT opposition.opposition_status,opposition.seats,opposition_category.category_name,spain_states.provincia as state,opposition.updated_at FROM opposition,spain_states,opposition_category where opposition.stateId = spain_states.stateId and opposition.categoryId = opposition_category.categoryId order by opposition.updated_at desc limit 5";

  $resultado = $conn->query($sql);
  return $resultado;
}
























<div class="">
  <form>
    <div class="col-5 col-md-5">
      <p>Estado</p>
      <select id="status">
        <option value="any">Cualquiera</option>
        <option value="open">Abierta</option>
        <option value="closed">Cerrada</option>
      </select>
    </div>
    <div class="col-6 col-md-6">
      <p>Fecha</p>
      <label for="fromDate">Desde</label>
      <input type="date" id="fromDate" name="fromDate" />
    </div>
    <div class="col-12 col-md-12">
      <p>Categoría</p>
      <select id="searchCategory" name="select"></select>
    </div>

    <div class="clearfix"></div>

    <div class="float-right">
      <button type="button" class="btn btn-primary" id="doSearchBtn" onclick="search()">
        <i class="fas fa-search"></i>
        Buscar
      </button>
    </div>

    <p>
      <map name="spainMap">
        <area id="state-a-coruna" shape="rect" coords="19, 25, 71, 41" />
        <area id="state-lugo" shape="rect" coords="64, 39, 99, 52" />
        <area id="state-pontevedra" shape="rect" coords="7, 51, 66, 63" />
        <area id="state-ourense" shape="rect" coords="49, 63, 98, 75" />
        <area id="state-asturias" shape="rect" coords="88, 23, 140, 38" />
        <area id="state-leon" shape="rect" coords="97, 52, 132, 62" />
        <area id="state-cantabria" shape="rect" coords="145, 25, 186, 37" />
        <area id="state-bizkaia" shape="rect" coords="190, 24, 216, 36" />
        <area id="state-gipuzkoa" shape="rect" coords="217, 27, 260, 40" />
        <area id="state-palencia" shape="rect" coords="137, 44, 176, 59" />
        <area id="state-alava" shape="rect" coords="189, 41, 215, 50" />
        <area id="state-navarra" shape="rect" coords="217, 45, 251, 57" />
        <area id="state-burgos" shape="rect" coords="168, 62, 196, 74" />
        <area id="state-rioja" shape="rect" coords="196, 60, 232, 74" />
        <area id="state-huesca" shape="rect" coords="264, 63, 301, 77" />
        <area id="state-lleida" shape="rect" coords="302, 58, 331, 72" />
        <area id="state-girona" shape="rect" coords="345, 59, 384, 70" />
        <area id="state-barcelona" shape="rect" coords="323, 79, 369, 92" />
        <area id="state-zamora" shape="rect" coords="96, 83, 130, 93" />
        <area id="state-valladolid" shape="rect" coords="133, 87, 176, 98" />
        <area id="state-soria" shape="rect" coords="196, 85, 221, 95" />
        <area id="state-zaragoza" shape="rect" coords="236, 92, 284, 102" />
        <area id="state-tarragona" shape="rect" coords="292, 105, 334, 114" />
        <area id="state-salamanca" shape="rect" coords="88, 112, 132, 125" />
        <area id="state-avila" shape="rect" coords="138, 124, 159, 133" />
        <area id="state-guadalajara" shape="rect" coords="189, 114, 240, 127" />
        <area id="state-teruel" shape="rect" coords="244, 120, 273, 133" />
        <area id="state-castellon" shape="rect" coords="273, 137, 314, 149" />
        <area id="state-madrid" shape="rect" coords="161, 130, 197, 143" />
        <area id="state-cuenca" shape="rect" coords="203, 149, 243, 158" />
        <area id="state-valencia" shape="rect" coords="249, 164, 286, 174" />
        <area id="state-toledo" shape="rect" coords="144, 152, 180, 161" />
        <area id="state-caceres" shape="rect" coords="86, 157, 126, 167" />
        <area id="state-badajoz" shape="rect" coords="83, 191, 124, 200" />
        <area id="state-ciudad-real" shape="rect" coords="148, 180, 199, 191" />
        <area id="state-segovia" shape="rect" coords="150, 102, 186, 112" />
        <area id="state-albacete" shape="rect" coords="210, 186, 251, 198" />
        <area id="state-alicante" shape="rect" coords="259, 199, 299, 212" />
        <area id="state-murcia" shape="rect" coords="231, 222, 268, 232" />
        <area id="state-cordoba" shape="rect" coords="122, 213, 160, 226" />
        <area id="state-jaen" shape="rect" coords="166, 216, 200, 229" />
        <area id="state-huelva" shape="rect" coords="69, 229, 98, 243" />
        <area id="state-sevilla" shape="rect" coords="100, 244, 143, 255" />
        <area id="state-granada" shape="rect" coords="165, 249, 205, 260" />
        <area id="state-almeria" shape="rect" coords="211, 248, 245, 260" />
        <area id="state-malaga" shape="rect" coords="133, 263, 171, 276" />
        <area id="state-cadiz" shape="rect" coords="101, 274, 125, 286" />
        <area id="state-ceuta" shape="rect" coords="117, 301, 147, 311" />
        <area id="state-melilla" shape="rect" coords="189, 308, 220, 319" />
        <area id="state-islas-baleares" shape="rect" coords="315, 134, 384, 205" />
        <area id="state-tenerife" shape="rect" coords="256, 267, 314, 333" />
        <area id="state-palmas" shape="rect" coords="318, 268, 382, 334" />
      </map>
      <img border="0" src="/toposiciones/view/media/images/mapaespana.jpg" width="390" height="347"
        usemap="#spainMap" />
    </p>
    <p>
      <map name="FPMap0">
        <area coords="19, 25, 71, 41" shape="rect"
          href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=coruña">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=lugo" shape="rect"
          coords="64, 39, 99, 52">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=pontevedra"
          shape="rect" coords="7, 51, 66, 63">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=orense" shape="rect"
          coords="49, 63, 98, 75">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=asturias" shape="rect"
          coords="88, 23, 140, 38">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=leon" shape="rect"
          coords="97, 52, 132, 62">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=cantabria" shape="rect"
          coords="145, 25, 186, 37">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=izca" shape="rect"
          coords="190, 24, 216, 36">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=guipuz" shape="rect"
          coords="217, 27, 260, 40">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=palencia" shape="rect"
          coords="137, 44, 176, 59">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=alava" shape="rect"
          coords="189, 41, 215, 50">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=navarra" shape="rect"
          coords="217, 45, 251, 57">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=burgos" shape="rect"
          coords="168, 62, 196, 74">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=rioja" shape="rect"
          coords="196, 60, 232, 74">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=uesca" shape="rect"
          coords="264, 63, 301, 77">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=lerida" shape="rect"
          coords="302, 58, 331, 72">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=gerona" shape="rect"
          coords="345, 59, 384, 70">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=barcelona" shape="rect"
          coords="323, 79, 369, 92">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=zamora" shape="rect"
          coords="96, 83, 130, 93">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=valladolid"
          shape="rect" coords="133, 87, 176, 98">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=soria" shape="rect"
          coords="196, 85, 221, 95">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=ragoza" shape="rect"
          coords="236, 92, 284, 102">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=tarragona" shape="rect"
          coords="292, 105, 334, 114">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=salamanca" shape="rect"
          coords="88, 112, 132, 125">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=avila" shape="rect"
          coords="138, 124, 159, 133">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=guadalajara"
          shape="rect" coords="189, 114, 240, 127">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=teruel" shape="rect"
          coords="244, 120, 273, 133">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=castello" shape="rect"
          coords="273, 137, 314, 149">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=madrid" shape="rect"
          coords="161, 130, 197, 143">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=cuenca" shape="rect"
          coords="203, 149, 243, 158">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=valencia" shape="rect"
          coords="249, 164, 286, 174">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=toledo" shape="rect"
          coords="144, 152, 180, 161">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=caceres" shape="rect"
          coords="86, 157, 126, 167">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=badajo" shape="rect"
          coords="83, 191, 124, 200">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=ciudad real"
          shape="rect" coords="148, 180, 199, 191">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=segovia" shape="rect"
          coords="150, 102, 186, 112">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=albacete" shape="rect"
          coords="210, 186, 251, 198">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=alicante" shape="rect"
          coords="259, 199, 299, 212">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=murcia" shape="rect"
          coords="231, 222, 268, 232">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=cordoba" shape="rect"
          coords="122, 213, 160, 226">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=jaen" shape="rect"
          coords="166, 216, 200, 229">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=huelva" shape="rect"
          coords="69, 229, 98, 243">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=sevilla" shape="rect"
          coords="100, 244, 143, 255">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=granada" shape="rect"
          coords="165, 249, 205, 260">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=almeria" shape="rect"
          coords="211, 248, 245, 260">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=malaga" shape="rect"
          coords="133, 263, 171, 276">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=cadiz" shape="rect"
          coords="101, 274, 125, 286">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=ceuta" shape="rect"
          coords="117, 301, 147, 311">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=melilla" shape="rect"
          coords="189, 308, 220, 319">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=balear" shape="rect"
          coords="315, 134, 384, 205">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=tenerif" shape="rect"
          coords="256, 267, 314, 333">
        <area href="http://www.temasytest.com/public_html/utilidades/foro/indexforo.php?criterio=palmas" shape="rect"
          coords="318, 268, 382, 334">
      </map>
    </p>

  </form>
</div>















    <p>
      <map name="spainMap">
        <area id="state-a-coruna" shape="rect" coords="19, 25, 71, 41" />
        <area id="state-lugo" shape="rect" coords="64, 39, 99, 52" />
        <area id="state-pontevedra" shape="rect" coords="7, 51, 66, 63" />
        <area id="state-ourense" shape="rect" coords="49, 63, 98, 75" />
        <area id="state-asturias" shape="rect" coords="88, 23, 140, 38" />
        <area id="state-leon" shape="rect" coords="97, 52, 132, 62" />
        <area id="state-cantabria" shape="rect" coords="145, 25, 186, 37" />
        <area id="state-bizkaia" shape="rect" coords="190, 24, 216, 36" />
        <area id="state-gipuzkoa" shape="rect" coords="217, 27, 260, 40" />
        <area id="state-palencia" shape="rect" coords="137, 44, 176, 59" />
        <area id="state-alava" shape="rect" coords="189, 41, 215, 50" />
        <area id="state-navarra" shape="rect" coords="217, 45, 251, 57" />
        <area id="state-burgos" shape="rect" coords="168, 62, 196, 74" />
        <area id="state-rioja" shape="rect" coords="196, 60, 232, 74" />
        <area id="state-huesca" shape="rect" coords="264, 63, 301, 77" />
        <area id="state-lleida" shape="rect" coords="302, 58, 331, 72" />
        <area id="state-girona" shape="rect" coords="345, 59, 384, 70" />
        <area id="state-barcelona" shape="rect" coords="323, 79, 369, 92" />
        <area id="state-zamora" shape="rect" coords="96, 83, 130, 93" />
        <area id="state-valladolid" shape="rect" coords="133, 87, 176, 98" />
        <area id="state-soria" shape="rect" coords="196, 85, 221, 95" />
        <area id="state-zaragoza" shape="rect" coords="236, 92, 284, 102" />
        <area id="state-tarragona" shape="rect" coords="292, 105, 334, 114" />
        <area id="state-salamanca" shape="rect" coords="88, 112, 132, 125" />
        <area id="state-avila" shape="rect" coords="138, 124, 159, 133" />
        <area id="state-guadalajara" shape="rect" coords="189, 114, 240, 127" />
        <area id="state-teruel" shape="rect" coords="244, 120, 273, 133" />
        <area id="state-castellon" shape="rect" coords="273, 137, 314, 149" />
        <area id="state-madrid" shape="rect" coords="161, 130, 197, 143" />
        <area id="state-cuenca" shape="rect" coords="203, 149, 243, 158" />
        <area id="state-valencia" shape="rect" coords="249, 164, 286, 174" />
        <area id="state-toledo" shape="rect" coords="144, 152, 180, 161" />
        <area id="state-caceres" shape="rect" coords="86, 157, 126, 167" />
        <area id="state-badajoz" shape="rect" coords="83, 191, 124, 200" />
        <area id="state-ciudad-real" shape="rect" coords="148, 180, 199, 191" />
        <area id="state-segovia" shape="rect" coords="150, 102, 186, 112" />
        <area id="state-albacete" shape="rect" coords="210, 186, 251, 198" />
        <area id="state-alicante" shape="rect" coords="259, 199, 299, 212" />
        <area id="state-murcia" shape="rect" coords="231, 222, 268, 232" />
        <area id="state-cordoba" shape="rect" coords="122, 213, 160, 226" />
        <area id="state-jaen" shape="rect" coords="166, 216, 200, 229" />
        <area id="state-huelva" shape="rect" coords="69, 229, 98, 243" />
        <area id="state-sevilla" shape="rect" coords="100, 244, 143, 255" />
        <area id="state-granada" shape="rect" coords="165, 249, 205, 260" />
        <area id="state-almeria" shape="rect" coords="211, 248, 245, 260" />
        <area id="state-malaga" shape="rect" coords="133, 263, 171, 276" />
        <area id="state-cadiz" shape="rect" coords="101, 274, 125, 286" />
        <area id="state-ceuta" shape="rect" coords="117, 301, 147, 311" />
        <area id="state-melilla" shape="rect" coords="189, 308, 220, 319" />
        <area id="state-islas-baleares" shape="rect" coords="315, 134, 384, 205" />
        <area id="state-tenerife" shape="rect" coords="256, 267, 314, 333" />
        <area id="state-palmas" shape="rect" coords="318, 268, 382, 334" />
      </map>
      <img border="0" src="/toposiciones/view/media/images/mapaespana.jpg" width="390" height="347" usemap="#spainMap" />
    </p>